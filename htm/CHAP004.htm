<html><head><title>[Alnuth] 4 Installation</title></head>
<body text="#000000" bgcolor="#ffffff">
[<a href = "chapters.htm">Up</a>] [<a href ="CHAP003.htm">Previous</a>] [<a href = "theindex.htm">Index</a>]
<h1>4 Installation</h1><p>
<P>
<H3>Sections</H3>
<oL>
<li> <A HREF="CHAP004.htm#SECT001">Installing Alnuth</a>
<li> <A HREF="CHAP004.htm#SECT002">Getting PARI/GP</a>
<li> <A HREF="CHAP004.htm#SECT003">Adjust the path of the executable for GP</a>
<li> <A HREF="CHAP004.htm#SECT004">Loading and testing the package</a>
</ol><p>
<p>
This package provides an interface between <font face="Gill Sans,Helvetica,Arial">GAP</font> and PARI/GP. 
PARI/GP itself is not part of this package.  It has to be obtained and
installed independently of this package. <font face="Gill Sans,Helvetica,Arial">Alnuth</font> works with PARI/GP
Version 2.5 or higher.
<p>
<p>
<h2><a name="SECT001">4.1 Installing Alnuth</a></h2>
<p><p>
The package <font face="Gill Sans,Helvetica,Arial">Alnuth</font> is part of the standard distribution of <font face="Gill Sans,Helvetica,Arial">GAP</font> so that
in most cases there is no need to install it separately. To use <font face="Gill Sans,Helvetica,Arial">Alnuth</font>
you need to have PARI/GP installed. See the following section for
information on PARI/GP.
<p>
In case you want to update <font face="Gill Sans,Helvetica,Arial">Alnuth</font> independently of your main <font face="Gill Sans,Helvetica,Arial">GAP</font>
installation or if you are interested in an old version of <font face="Gill Sans,Helvetica,Arial">Alnuth</font>
interfacing to KANT/KASH you can find all released versions of <font face="Gill Sans,Helvetica,Arial">Alnuth</font>
at the package's homepage
<a href="http://www.icm.tu-bs.de/ag_algebra/software/Alnuth/">http://www.icm.tu-bs.de/ag_algebra/software/Alnuth/</a>
<p>
in the form of gzipped tar-archives or as uncompressed tar-archives,
and starting with Version 3.0.0 also as zip archives for Windows. The
main page always contains the latest version of <font face="Gill Sans,Helvetica,Arial">Alnuth</font>, while older
versions can be found under <code>Archives</code>.
<p>
There are two ways of installing a <font face="Gill Sans,Helvetica,Arial">GAP</font> package. If you have
permission to add files to the installation of <font face="Gill Sans,Helvetica,Arial">GAP</font> on your system
you may install <font face="Gill Sans,Helvetica,Arial">Alnuth</font> into the <code>pkg</code> subdirectory of the <font face="Gill Sans,Helvetica,Arial">GAP</font>
installation tree. Otherwise you may install <font face="Gill Sans,Helvetica,Arial">Alnuth</font> in a private
<code>pkg</code> directory (for details see Subsections <a href="https://www.gap-system.org/Manuals/doc/ref/chap76.html#X82473E4B8756C6CD">Installing a GAP Package</a> and <a href="https://www.gap-system.org/Manuals/doc/ref/chap9.html#X7A4973627A5DB27D">GAP Root Directories</a> in the <font face="Gill Sans,Helvetica,Arial">GAP</font> reference manual).
<p>
To install the latest version of <font face="Gill Sans,Helvetica,Arial">Alnuth</font> under Linux download one of
the archives <code>alnuth.tar</code> and <code>alnuth.tar.gz</code>, move it to the
directory <code>pkg</code> in which you want to install, and unpack the
archive. If you are using the command line you can unpack the former
with the command <code>tar xf alnuth.tar</code>, respectively <code>tar xzf
alnuth.tar.gz</code> for the gzipped tar-archive.
<p>
For installation under Windows download the archive <code>alnuth-win.zip</code>,
move it to the <code>pkg</code> directory in which you want to install, and
extract the archive (If you right click on the archive there should
appear a menu containing the entry <code>Extract here</code>.).
<p>
<p>
<h2><a name="SECT002">4.2 Getting PARI/GP</a></h2>
<p><p>
Using <font face="Gill Sans,Helvetica,Arial">Alnuth</font> requires an installation of PARI/GP in Version 2.5 or
higher. The software PARI/GP is freely available at
<a href="http://pari.math.u-bordeaux.fr/">http://pari.math.u-bordeaux.fr/</a>
<p>
Note that the place where PARI/GP is located in your system is
independent of the place where <font face="Gill Sans,Helvetica,Arial">Alnuth</font> is installed.
<p>
<dl compact>
<dt><hr>a.<dd>
<hr>Installing under Linux
<p>
In many Linux distributions PARI/GP can be installed via the software
package manager, but this might sometimes be an older version which
cannot be used together with <font face="Gill Sans,Helvetica,Arial">Alnuth</font>. (Starting GP from the command line
with the option <code>--version-short</code> will show you the version number.)
<p>
If you install PARI/GP from source make sure you install with GMP
support for better performance and complete the installation with
<code>make install</code> so that you can start GP by just calling <code>gp</code> from the
command line.
<p>
<dt><hr>b.<dd>
<hr>Installing under Windows
<p>
For Windows it is sufficient to get the basic GP binary which can be found at
<a href="http://pari.math.u-bordeaux.fr/download.html">http://pari.math.u-bordeaux.fr/download.html</a>
</dl>
<p>
<p>
<h2><a name="SECT003">4.3 Adjust the path of the executable for GP</a></h2>
<p><p>
This package needs to know where the executable for GP is. In the
default setting <font face="Gill Sans,Helvetica,Arial">Alnuth</font> looks for an executable program named <code>gp</code> in
the search paths of the system. More precisely, for a file <code>gp</code> inside
one of the directories in the list returned by
<code>DirectoriesSystemPrograms()</code> (called in a <font face="Gill Sans,Helvetica,Arial">GAP</font> session).
<p>
Under Linux the default setting should work with a standard
installation of PARI/GP.
<p>
For the default setting to work under Windows the downloaded
executable file, for example <code>gp-2-5-0.exe</code> has to be renamed to
<code>gp.exe</code> and moved to one of the directories listed by
<code>DirectoriesSystemPrograms()</code> (Ignore the leading <code>cygdrive</code> in each
path name and note that the single letter specifies the drive, for
example <code>/cygdrive/c/Windows/</code> denotes the folder <code>Windows</code> on drive
<code>C:</code>).
<p>
To check whether an executable of GP in Version 2.5 or higher is
available with the default setting, you can use the function
<a name = "SSEC003.1"></a>
<li><code>PariVersion( )</code>
<p>
which prints the verion number, if the global variable <code>AL_EXECUTABLE</code>
is bound to the file name of a GP executable.
<p>
If you cannot use the default setting for you purpose, you have
two options to specify a new place and name for the GP executable.
<p>
If you are able to edit the file <code>defs.g</code> in the main directory of
<font face="Gill Sans,Helvetica,Arial">Alnuth</font>, then you can change the line 
<pre>
    BindGlobal("AL_EXECUTABLE", Filename(DirectoriesSystemPrograms(), "gp"));
</pre>
to something like
<pre>
    BindGlobal("AL_EXECUTABLE", "/home/my/pari-2.5.0/gp");
</pre>
under Linux or
<pre>
    BindGlobal("AL_EXECUTABLE", "/cygdrive/c/Users/my/Downloads/gp-2-5-0");
</pre>
under Windows, where the second argument gives the path to the GP
executable you want to use (Change the strings given above to reflect
the actual path on your system.). Please note that in case of a new
installation of <font face="Gill Sans,Helvetica,Arial">Alnuth</font> you will have to change <code>defs.g</code> again. 
<p>
Alternatively you can also change your personal <code>gaprc</code> file (see 
the Subsection <a href="https://www.gap-system.org/Manuals/doc/ref/chap3.html#X84D4CF587D437C00">The gaprc file</a> in the <font face="Gill Sans,Helvetica,Arial">GAP</font> reference manual)
for setting the variable AL_EXECUTABLE to a proper value. To do this
add the appropriate line from above with the <code>BindGlobal</code> command to
<code>gaprc</code>.
<p>
The third possibility is to change the path to the GP executable from
within <font face="Gill Sans,Helvetica,Arial">GAP</font> using one of the following two functions. To do this you
first have to load the package (see Section <a href="CHAP004.htm#SECT004">Loading and testing the package</a>).
<a name = "SSEC003.2"></a>
<li><code>SetAlnuthExternalExecutable( </code><var>path</var><code> )</code>
<p>
adjusts the global variable <code>AL_EXECUTABLE</code> for the current <font face="Gill Sans,Helvetica,Arial">GAP</font>
session. Depending on your installation of PARI/GP and your operating
system the string <var>path</var> has to be either the command to start GP in a
terminal (for example <code>gp</code>) or the complete path to the executable of GP 
(for example <code>/cygwindrive/c/windows/gp</code>). The function returns <code>fail</code>
if <var>path</var> does not execute GP in Version 2.5.0 or higher.
<p>
To make the change take effect for all of your <font face="Gill Sans,Helvetica,Arial">GAP</font> sessions, you can
add <code>SetKantExecutable</code> with the path to the GP executable as argument
to your personal <code>gaprc</code> file (see the Subsection <a href="https://www.gap-system.org/Manuals/doc/ref/chap3.html#X84D4CF587D437C00">The gaprc file</a>
in the <font face="Gill Sans,Helvetica,Arial">GAP</font> reference manual). 
<p>
If you want the change to affect all <font face="Gill Sans,Helvetica,Arial">GAP</font> session of all users of the
<font face="Gill Sans,Helvetica,Arial">GAP</font> installation you can use the following function:
<a name = "SSEC003.3"></a>
<li><code>SetAlnuthExternalExecutablePermanently( </code><var>path</var><code> )</code>
<p>
does the same as <code>SetAlnuthExternalExecutable</code> and in addition trys to
change the file <code>defs.g</code> accordingly in the currently loaded version
of <font face="Gill Sans,Helvetica,Arial">Alnuth</font>. A warning is issued if there is no write access to <code>defs.g</code>
from the current <font face="Gill Sans,Helvetica,Arial">GAP</font> session.
<p>
<a name = "SSEC003.4"></a>
<li><code>RestoreAlnuthExternalExecutable( )</code>
<p>
trys to restore the original content of the file <code>defs.g</code> in the
directory corresponding to the loaded version of <font face="Gill Sans,Helvetica,Arial">Alnuth</font>. The function
returns <code>fail</code> if there is no write access to <code>defs.g</code>
from the current <font face="Gill Sans,Helvetica,Arial">GAP</font> session.
<p>
<p>
<h2><a name="SECT004">4.4 Loading and testing the package</a></h2>
<p><p>
If <font face="Gill Sans,Helvetica,Arial">Alnuth</font> is not loaded when GAP is started you have to request it
explicitly to use it. This is done by calling <code>LoadPackage("Alnuth");</code>
in a GAP session. If <font face="Gill Sans,Helvetica,Arial">Alnuth</font> had not been loaded already a short
banner will be displayed.
<p>
<pre>
    gap&gt; LoadingPackage("alnuth");
    Loading Alnuth 3.0.0 ...
    true
    gap&gt;
</pre>
To load a certain version of Alnuth you can specify the version number as
second argument in the call to <code>LoadPackage</code>. (See <code>77.2 Loading a GAP
package</code> in the reference manual or type <code>?LoadPackage</code> within a GAP session).
<p>
Once the package is loaded, it is possible to check the correct installation
running a short test by calling <code>ReadPackage("Alnuth",
"tst/testinstall.tst");</code>.
<p>
<pre>
    gap&gt; ReadPackage("Alnuth", "tst/testinstall.g");
    Line 5 :
    + Test availability and version of PARI/GP
    Line 5 :
    + GAP4stones: 25000
    Line 85 :
    + Installation test of Alnuth package
    Line 85 :
    + GAP4stones: 609
    true
    gap&gt;
</pre>
<p>
The number of GAP4stones will usually differ; other discrepancies in the 
output indicate some problem.
<p>
If the test suite runs into an error in the first part, which verifies the
availability of PARI/GP, check your installation of PARI/GP and consult the
last chapter of the documentation of Alnuth for more information.
<p>
If you find any bugs or have any suggestions or comments, we would very much
appreciate it if you would let us know by writing to <code>a.distler(at)tu-bs.de</code>.
<p>
[<a href = "chapters.htm">Up</a>] [<a href ="CHAP003.htm">Previous</a>] [<a href = "theindex.htm">Index</a>]
<P>
<address>Alnuth manual<br>March 2022
</address></body></html>